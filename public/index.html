<!DOCTYPE html>
<html>
<head>
  <title>Insta Clone - Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="center">
  <h2>InstaClone</h2>
  <input id="name" placeholder="Name"><br>
  <input id="user" placeholder="Username"><br>
  <input id="pass" type="password" placeholder="Password"><br>
  <button onclick="register()">Register</button>
  <button onclick="login()">Login</button>

<script>
function register(){
 fetch("/register",{method:"POST",headers:{'Content-Type':'application/json'},
 body:JSON.stringify({name:name.value,username:user.value,password:pass.value})})
 .then(r=>r.json()).then(d=>alert(d.ok?"Registered":"Error"));
}
function login(){
 fetch("/login",{method:"POST",headers:{'Content-Type':'application/json'},
 body:JSON.stringify({username:user.value,password:pass.value})})
 .then(r=>r.json()).then(d=>{
   if(d.ok) location.href="feed.html";
   else alert("Login failed");
 });
}
</script>
</body>
</html>
